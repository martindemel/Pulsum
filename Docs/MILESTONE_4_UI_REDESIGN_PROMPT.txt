ROLE: You are a world-class iOS design architect and SwiftUI engineer specializing in modern, minimalistic, futuristic UI design. Your task is to completely redesign Pulsum's Milestone 4 UI to be fresh, light, minimalistic, and beautiful - moving away from the current dark purple design to a clean, energizing aesthetic.

CRITICAL - COMPREHENSIVE ANALYSIS REQUIRED (DO FIRST):

1. READ THESE FILES COMPLETELY (No skipping):
   @instructions.md - Product specification and UI requirements
   @todolist.md - Current Milestone 4 completion status
   @liquidglass.md - Complete Liquid Glass implementation guidelines (CRITICAL for design system)
   @ios app mockup.png - Design inspiration with light green aesthetic (REFERENCE THIS!)
   
2. ANALYZE ENTIRE CODEBASE:
   ‚Ä¢ Packages/PulsumUI/Sources/PulsumUI/ - ALL UI files (read every line)
   ‚Ä¢ PulsumRootView.swift - Main container
   ‚Ä¢ CoachView.swift - Recommendations interface
   ‚Ä¢ PulseView.swift - Journal recording
   ‚Ä¢ SettingsView.swift - Settings screen
   ‚Ä¢ All view models (AppViewModel, CoachViewModel, PulseViewModel, SettingsViewModel)
   ‚Ä¢ All components (ConsentBannerView, SafetyCardView, etc.)
   
3. STUDY DESIGN REFERENCES:
   ‚Ä¢ /ios support documents/ folder - All Liquid Glass documentation PDFs
   ‚Ä¢ ios app mockup.png and maindesign.png- The design target (light, fresh, minimalistic with light green) in the maindesign.png you will also see that the way the boxes are laid out the way text and other buttons are. etc. 
   ‚Ä¢ liquidglass.md - Implementation patterns and guidelines - read the entire document! do not skip lines.


CURRENT DESIGN PROBLEMS TO FIX:
‚ùå Dark purple/blue color scheme - too heavy, not fresh
‚ùå Not minimalistic - feels cluttered
‚ùå Not energizing - feels depressing
‚ùå Doesn't match mockup aesthetic
‚ùå Background too dark
‚ùå Not enough whitespace
‚ùå UI elements lack polish
‚ùå Button positioning is poor - not well aligned
‚ùå Layout is poorly structured - elements not properly positioned
‚ùå Component alignment issues throughout
‚ùå Navigation flow could be improved
‚ùå Information hierarchy unclear
‚ùå Interaction patterns not intuitive
‚ùå Overall UX feels unpolished

TARGET DESIGN AESTHETIC (From mockup.png):
‚úÖ Light, airy backgrounds (light green, soft pastels)
‚úÖ Fresh, energizing color palette
‚úÖ Minimalistic - clean lines, lots of whitespace
‚úÖ Futuristic - modern iOS 26 materials
‚úÖ Soft gradients (not harsh contrasts)
‚úÖ Gentle shadows and depth
‚úÖ Rounded corners and fluid shapes
‚úÖ Liquid Glass effects used subtly
‚úÖ Typography hierarchy clear
‚úÖ Breathing room between elements

PRIMARY COLOR PALETTE (From mockup):
- Background: Light green/mint (#E8F5E8 to #D4EED4 gradient)
- Cards: White with subtle shadows
- Text: Dark gray/charcoal (#2C2C2E) on light backgrounds
- Accents: Soft green (#7ACC7A), light blue (#A8D5F2)
- Secondary: Warm beige, soft pink for variety
- Liquid Glass: Translucent white materials, subtle blur

DESIGN SYSTEM REQUIREMENTS:

1. LIQUID GLASS IMPLEMENTATION (Reference liquidglass.md):
   ‚Ä¢ Use .ultraThinMaterial, .thinMaterial, .regularMaterial for depth
   ‚Ä¢ Apply to: cards, sheets, navigation elements, overlays
   ‚Ä¢ Subtle, not overwhelming
   ‚Ä¢ Layered depth with proper hierarchy

2. TYPOGRAPHY:
   ‚Ä¢ SF Pro Display for headings (fresh, modern)
   ‚Ä¢ .rounded design for numbers/metrics
   ‚Ä¢ Clear hierarchy: title ‚Üí headline ‚Üí body ‚Üí caption
   ‚Ä¢ Dynamic Type support throughout

3. SPACING & LAYOUT:
   ‚Ä¢ Generous whitespace (24-32pt margins)
   ‚Ä¢ Breathing room between cards (16-24pt)
   ‚Ä¢ Comfortable tap targets (44pt minimum)
   ‚Ä¢ Clean alignment and grids

4. CRITICAL MAIN SCREEN ISSUE TO FIX:
   ‚ùå REMOVE the wellbeing score display from MainView - it should NOT be visible on main screen
   ‚úÖ Wellbeing score should ONLY appear in SettingsView (for backend calculation visibility) - but have settings - then calcualtions - and here have all the details how everything is calcualted. 
   ‚úÖ MainView should ONLY show the Spline animation full-screen with minimal UI chrome

5. COMPONENTS TO COMPLETELY REDESIGN:

   A. MainView (PulsumRootView):
      WHAT IT SHOULD BE:
      - Spline animation dominates the screen (full-screen, immersive)
      - Minimal UI overlay (just essential navigation)
      - Light, clean aesthetic matching mockup
      - NO wellbeing score visible (remove WellbeingScoreView component from MainView)
      
      YOUR DESIGN CHALLENGE:
      - Analyze liquidglass.md for optimal UI overlay patterns
      - Determine best positions for: Pulse button, Avatar button, Tab switcher, AI button
      - Consider: visibility over animation, accessibility, balance, iOS conventions
      - Use Liquid Glass materials for UI chrome (subtle, non-intrusive)
      - Make navigation intuitive without obscuring animation
      
      DO NOT: Follow rigid positioning rules - analyze and propose optimal layout yourself
      
   B. CoachView:
      CURRENT PROBLEMS:
      - Cards poorly aligned
      - Spacing inconsistent
      - Layout feels unpolished
      
      YOUR DESIGN CHALLENGE:
      - Analyze liquidglass.md for card design patterns
      - Study mockup.png for card layouts and spacing
      - Design white/light cards with subtle shadows
      - Determine optimal: card sizes, spacing, padding, alignment
      - Create visual hierarchy: Top Pick (prominent) vs Alternates (secondary)
      - Design chat interface that feels integrated with cards
      - Position evidence badges naturally within card design
      - Design caution messages that feel helpful, not alarming
      
      DO NOT: Follow rigid prescriptions - analyze and propose optimal card system yourself
      
   C. PulseView:
      CURRENT PROBLEMS:
      - Sliders poorly aligned
      - Recording controls not well positioned
      - Overall layout feels cramped
      
      YOUR DESIGN CHALLENGE:
      - Analyze liquidglass.md for sheet design patterns
      - Study mockup.png for form layouts and vertical rhythm
      - Design recording interface that feels intuitive and calming
      - Determine optimal: slider widths, label positioning, spacing between elements
      - Create clear visual flow: Recording ‚Üí Sliders ‚Üí Submit
      - Make countdown prominent and readable
      - Design sliders that feel modern and easy to use
      - Position submit button where it feels natural
      
      REQUIREMENTS:
      - Recording indicator must be always visible (safety/transparency)
      - Slider labels must use research-validated wording (SISQ, NRS, SQS)
      - Sheet should feel light and calm (not dark/heavy)
      
      DO NOT: Follow rigid layouts - analyze and propose optimal vertical composition yourself
      
   D. SettingsView:
      YOUR DESIGN CHALLENGE:
      - Analyze liquidglass.md for settings screen patterns
      - Study mockup.png for grouping and hierarchy
      - Design clean grouped list style
      - Create information cards for: Consent, Foundation Models Status, Privacy
      - **IMPORTANT**: Display wellbeing score HERE (not on MainView!)
      - Show backend calculation details for transparency
      - Design toggles that feel modern
      - Create clear sections with good visual separation
      
      DO NOT: Follow rigid structures - analyze and propose optimal settings organization yourself
      
   E. SafetyCardView:
      - White card, urgent but not alarming
      - Red accent for crisis (‚ö†Ô∏è symbol)
      - Clear hierarchy: warning ‚Üí action ‚Üí resources
      - Large call buttons
      
   F. ConsentBannerView:
      - Translucent white card
      - Soft drop shadow
      - Clear copy with accent CTA

5. ANIMATIONS & INTERACTIONS:
   ‚Ä¢ Spring animations (.spring(response: 0.4, dampingFraction: 0.8))
   ‚Ä¢ Smooth transitions (.easeInOut)
   ‚Ä¢ Subtle scale effects on tap
   ‚Ä¢ Loading states: spinning progress, soft opacity
   ‚Ä¢ Toast messages: slide from top, auto-dismiss

6. ACCESSIBILITY:
   ‚Ä¢ Maintain all VoiceOver labels
   ‚Ä¢ Dynamic Type (all text scales)
   ‚Ä¢ Sufficient contrast ratios (WCAG AA)
   ‚Ä¢ Reduce motion support

IMPLEMENTATION REQUIREMENTS:

‚Ä¢ Keep all @MainActor view models (don't change architecture)
‚Ä¢ Keep all AgentOrchestrator integration (don't change logic)
‚Ä¢ Keep all async/await patterns (don't change data flow)
‚Ä¢ Keep all safety checking (don't change behavior)
‚Ä¢ Keep all Foundation Models integration (don't change AI)

ONLY CHANGE: Visual design, colors, layout, spacing, materials, animations

REFERENCE IMPLEMENTATION PATTERN:

```swift
// EXAMPLE: Fresh CoachView card design
struct RecommendationCardView: View {
    let card: RecommendationCard
    let isExpanded: Bool
    
    var body: some View {
        VStack(alignment: .leading, spacing: 16) {
            HStack {
                VStack(alignment: .leading, spacing: 4) {
                    Text(card.title)
                        .font(.headline)
                        .foregroundColor(.primary)
                    
                    EvidenceBadge(badge: card.sourceBadge)
                }
                
                Spacer()
                
                if !isExpanded {
                    Image(systemName: "chevron.down")
                        .foregroundColor(.secondary)
                }
            }
            
            if isExpanded {
                Text(card.body)
                    .font(.body)
                    .foregroundColor(.secondary)
                    .lineSpacing(4)
                
                if let caution = card.caution {
                    HStack(spacing: 8) {
                        Image(systemName: "exclamationmark.triangle.fill")
                            .foregroundColor(.orange)
                            .font(.caption)
                        Text(caution)
                            .font(.caption)
                            .foregroundColor(.orange.opacity(0.9))
                    }
                    .padding(12)
                    .background(Color.orange.opacity(0.1), in: RoundedRectangle(cornerRadius: 12))
                }
            }
        }
        .padding(20)
        .background(Color.white, in: RoundedRectangle(cornerRadius: 20))
        .shadow(color: .black.opacity(0.08), radius: 12, y: 4)
    }
}
```

DELIVERABLES:

1. Completely redesigned PulsumRootView with light gradient background
2. Redesigned CoachView with white cards on light background
3. Redesigned PulseView with fresh, energizing aesthetic
4. Redesigned SettingsView with clean grouped style
5. Updated all components with new color palette
6. Updated all materials to match fresh design
7. Updated all spacing to be more generous
8. Updated all animations to feel smooth and modern

DESIGN VALIDATION CHECKLIST:
‚ñ° Light, fresh background (green/mint inspired by mockup)
‚ñ° White cards with subtle shadows
‚ñ° Generous whitespace (not cramped)
‚ñ° Soft color palette (no harsh dark colors)
‚ñ° Clear typography hierarchy
‚ñ° Liquid Glass materials used subtly
‚ñ° All interactions smooth and delightful
‚ñ° Minimalistic (clean, uncluttered)
‚ñ° Futuristic (modern iOS 26 feel)
‚ñ° Matches mockup aesthetic

DO NOT CHANGE (Backend/Logic):
- AgentOrchestrator integration (keep all async calls)
- View model architecture (@MainActor @Observable pattern)
- Async/await patterns (keep all async functions)
- Safety checking logic (keep JournalCaptureResponse.safety checks)
- Foundation Models integration (keep error handling, status display)
- Data flow (keep all orchestrator method calls)
- Core functionality (journal, sliders, recommendations, chat)

YOU CAN COMPLETELY REDESIGN (UI/UX):
‚úÖ Entire layout structure and composition
‚úÖ Button positions and alignment
‚úÖ Component placement and hierarchy
‚úÖ Navigation patterns and flows (can improve, but keep Pulse button, Settings avatar, AI button)
‚úÖ Visual presentation and styling
‚úÖ Colors, spacing, materials, animations
‚úÖ Information architecture (how content is organized)
‚úÖ Interaction patterns (gestures, transitions)
‚úÖ Card layouts and designs
‚úÖ Sheet presentations and modals
‚úÖ Typography and visual hierarchy
‚úÖ Spacing and alignment throughout

REDESIGN SCOPE:
‚Ä¢ Fix all button positioning issues
‚Ä¢ Fix all alignment problems
‚Ä¢ Restructure layouts for better visual flow
‚Ä¢ Improve information hierarchy
‚Ä¢ Polish all interactions
‚Ä¢ Create cohesive design system
‚Ä¢ Make everything feel professional and polished

START BY:
1. Analyzing liquidglass.md completely (understanding Liquid Glass system)
2. Studying ios app mockup.png (understanding target aesthetic)
3. Reading all UI files to understand current structure
4. Proposing new color palette and design system
5. Implementing redesign systematically (one view at a time)

YOUR DESIGN METHODOLOGY:
1. ANALYZE liquidglass.md completely - extract design principles, patterns, best practices
2. STUDY mockup images - understand spacing, alignment, visual rhythm, color usage
3. EXAMINE current UI code - identify specific layout, alignment, and positioning issues
4. PROPOSE design system - colors, spacing tokens, typography, component patterns
5. DESIGN each view - sketch out optimal layouts based on your analysis
6. IMPLEMENT systematically - one view at a time with attention to detail

DESIGN PRINCIPLES TO DISCOVER FROM YOUR ANALYSIS:
‚Ä¢ How should UI overlay on immersive content? (liquidglass.md will guide you)
‚Ä¢ What spacing creates breathing room? (mockup.png will show you)
‚Ä¢ How to create visual hierarchy? (analyze both resources)
‚Ä¢ Where do buttons naturally fall? (iOS conventions + Liquid Glass patterns)
‚Ä¢ How to make interactions delightful? (spring animations, materials, feedback)

YOU DECIDE:
‚Ä¢ Button positions (analyze mockup + liquidglass.md for best placement)
‚Ä¢ Layout structures (VStack vs HStack vs ZStack - choose wisely)
‚Ä¢ Spacing values (consistent system based on mockup analysis)
‚Ä¢ Alignment patterns (what looks balanced and professional)
‚Ä¢ Visual hierarchy (what draws the eye effectively)
‚Ä¢ Component compositions (how elements group together)

DO NOT RIGIDLY FOLLOW PRESCRIPTIONS - USE YOUR DESIGN JUDGMENT based on comprehensive analysis of liquidglass.md guidelines and mockup.png aesthetics!

INTERACTION IMPROVEMENTS:
‚Ä¢ Buttons should have minimum 44pt tap targets
‚Ä¢ Buttons should have visual feedback (.buttonStyle or .sensoryFeedback)
‚Ä¢ Transitions should be smooth (.animation(.spring(...)))
‚Ä¢ Loading states should be centered and clear
‚Ä¢ Error messages should be prominent but not alarming
‚Ä¢ Success states should feel rewarding

GOAL: Transform Pulsum from dark/heavy/poorly-laid-out to light/fresh/minimalistic/futuristic/professionally-designed while keeping all functionality intact!

EXECUTION SEQUENCE:
1. ANALYZE COMPLETELY:
   - Read liquidglass.md entirely (no skipping!) - extract design patterns
   - Study mockup.png and maindesign.png - understand layout, spacing, colors, hierarchy
   - Review /ios support documents/ - official Liquid Glass guidance
   - Examine current UI code - identify all issues
   
2. PROPOSE DESIGN SYSTEM:
   - New color palette (light green inspired)
   - Spacing tokens (8, 12, 16, 24, 32pt system)
   - Typography scale (SF Pro hierarchy)
   - Component patterns (cards, buttons, inputs)
   - Layout principles (alignment, balance, rhythm)
   - Material usage (Liquid Glass application)
   
3. DESIGN EACH VIEW:
   - Sketch optimal layouts based on analysis
   - Show mockups/examples of proposed designs
   - Explain design decisions (why this layout, why this spacing, etc.)
   - Get confirmation before implementing
   
4. IMPLEMENT SYSTEMATICALLY:
   - MainView: Spline animation full-screen + minimal overlay (NO SCORE!)
   - CoachView: Cards with optimal layout discovered from analysis
   - PulseView: Recording + sliders with natural vertical flow
   - SettingsView: Clean groups with wellbeing score visible here
   - Components: All polished and well-positioned
   
5. VALIDATE:
   - Does it match mockup aesthetic? (light, fresh, minimalistic)
   - Are all elements properly aligned? (use alignment tools in Xcode)
   - Is spacing consistent? (check padding throughout)
   - Is hierarchy clear? (eye flows naturally)
   - Does it feel professional? (polished, not amateur)

CRITICAL REQUIREMENTS:
‚úÖ MainView: ONLY Spline animation + navigation UI overlay (NO wellbeing score display!)
‚úÖ SettingsView: Wellbeing score visible here for backend transparency
‚úÖ All layouts: Analyzed and optimized (not prescribed)
‚úÖ All positioning: Based on your analysis of liquidglass.md + mockup.png
‚úÖ All spacing: Discovered from mockup patterns
‚úÖ All design decisions: Justified by analysis

Begin with comprehensive analysis, propose thoughtful design system, then implement beautiful UI! üé®
